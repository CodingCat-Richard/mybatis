<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.xiao.dao.IDao">
  	
<!--   	<resultMap type="com.xiao.dao.IDao" id="resultmap">
  		<id property="id" column="id"/>
  		<id property="name" column="name"/>
  	</resultMap>
  	 -->
<!--   	 	<select id="findAll" resultMap="resultmap">
  		select * from user;
  	</select> -->
  	 
  	<select id="findAll" resultType="com.xiao.domin.User">
  		select * from user;
  	</select>
  	<insert id="saveUser"  parameterType="com.xiao.domin.User">
  		<selectKey keyProperty="id" keyColumn="id"  resultType="int"  order="AFTER">
  			select last_insert_id();
  		</selectKey>
  		insert into user(name,sex,date)values(#{name},#{sex},#{date});
  	</insert>
  	<update id="updateUser" parameterType="com.xiao.domin.User" >
  		update user set name=#{name},sex=#{sex},date=#{date}where id=#{id};
  	</update>
  	<select id="findUsers" parameterType="String" resultType="com.xiao.domin.User">
  		select * from user where name like "%"+ #{s}+"%";
  	</select>
  		<select id="findbyId" parameterType="INT" resultType="com.xiao.domin.User">
  		select * from user where id=#{s};
  	</select>
  	<delete id="deleteUser" parameterType="com.xiao.domin.User">
  		delete from user where id=#{id};
  	</delete>
  	
  </mapper>